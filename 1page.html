<!DOCTYPE html>
<html>

<head>
  <title>–°–æ–±–µ—Ä–∏</title>
  <style>
       body{
      background-image: url(path/4.jpg);

    }
    .but1 {
      border: 1px solid brown;
      border-radius: 25px;
      background-color: rgb(245, 229, 223);
      box-shadow:
        0 1px 4px rgba(99, 11, 11, 0.8),
        -53px 0 50px -23px rgba(106, 16, 16, 0.8),
        53px 0 50px -23px rgba(112, 12, 12, 0.8),
        0 0 40px rgba(107, 14, 14, 0.5) inset;
      margin-left: 40%;
      margin-right: 40%;
      width: 20%;
      height: 40px;
      color: rgb(28, 3, 3);
      margin-top: 1%;
      font-size: 20px;
      font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
    }

    #grid {
      border: 1px solid rgb(66, 48, 88);
      display: grid;
      grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
      grid-template-columns: 1fr 1fr 1fr 1fr;
      grid-gap: ;
    }

    #grid>div {
      border: rgb(52, 8, 16);
      font-size: ;
      padding: ;
      background: rgb(65, 36, 2);
      text-align: center;
    }

    div {
      display: ;
      background-color: ;
    }

    .image-container {
      display: block;
      width: auto;
      height: auto;

      margin: ;
      cursor: move;
      user-select: none;
    }

    img {
      border: ;
      width: 100%;
      height: 100%;
    }

    video {
      border: 2px solid darkred;
      box-shadow:
        0 1px 4px rgba(0, 0, 0, 0.3),
        -73px 0 70px -23px rgba(126, 76, 76, 0.8),
        73px 0 70px -23px rgba(126, 76, 76, 0.8),
        0 0 40px rgba(0, 0, 0, 0.1) inset;
  
      margin-left: auto;
      margin-right: auto;
      display: flex;
      align-items: center;
      justify-content: center;
      position:relative;
      top: 0;
      left: 0;
      width: 80%;
      height: 80%;
      object-fit: ;
      z-index:100;
    }
  </style>
  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js"></script>
</head>

<body>

  <div id="grid">
    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image1">
      <img src="path/to/your/image1.jpg" alt="Image 1">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image2">
      <img src="path/to/your/image2.jpg" alt="Image 2">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image3">
      <img src="path/to/your/image3.jpg" alt="Image 3">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image4">
      <img src="path/to/your/image4.jpg" alt="Image 4">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image5">
      <img src="path/to/your/image5.jpg" alt="Image 5">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image6">
      <img src="path/to/your/image6.jpg" alt="Image 6">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image7">
      <img src="path/to/your/image7.jpg" alt="Image 7">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image8">
      <img src="path/to/your/image8.jpg" alt="Image 8">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image9">
      <img src="path/to/your/image9.jpg" alt="Image 9">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image10">
      <img src="path/to/your/image10.jpg" alt="Image 10">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image11">
      <img src="path/to/your/image11.jpg" alt="Image 11">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image12">
      <img src="path/to/your/image12.jpg" alt="Image 12">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image13">
      <img src="path/to/your/image13.jpg" alt="Image 13">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image14">
      <img src="path/to/your/image14.jpg" alt="Image 14">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image15">
      <img src="path/to/your/image15.jpg" alt="Image 15">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image16">
      <img src="path/to/your/image16.jpg" alt="Image 16">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image17">
      <img src="path/to/your/image17.jpg" alt="Image 17">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image18">
      <img src="path/to/your/image18.jpg" alt="Image 18">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image19">
      <img src="path/to/your/image19.jpg" alt="Image 19">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image20">
      <img src="path/to/your/image20.jpg" alt="Image 20">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image21">
      <img src="path/to/your/image21.jpg" alt="Image 21">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image22">
      <img src="path/to/your/image22.jpg" alt="Image 22">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image23">
      <img src="path/to/your/image23.jpg" alt="Image 23">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image24">
      <img src="path/to/your/image24.jpg" alt="Image 24">
    </div>
    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image25">
      <img src="path/to/your/image25.jpg" alt="Image 25">
    </div>
    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image26">
      <img src="path/to/your/image26.jpg" alt="Image 26">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image27">
      <img src="path/to/your/image27.jpg" alt="Image 27">
    </div>

    <div class="image-container" draggable="true" ondragstart="drag(event)" ontouchstart="touchStart(event)"
      ontouchmove="touchMove(event)" ontouchend="touchEnd(event)" id="image28">
      <img src="path/to/your/image28.jpg" alt="Image 28">
    </div>
  </div>

  <button class="but1" onclick="checkOrder()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>

  <script>
    let touchElement = null;
    let videoOpened = false; // –§–ª–∞–≥ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–∏–¥–µ–æ

    function drag(event) {
      event.dataTransfer.setData('text/plain', event.target.id);
    }

    function touchStart(event) {
      touchElement = event.currentTarget;
      touchElement.style.zIndex = 1000;
    }

    function touchMove(event) {
      if (touchElement) {
        event.preventDefault();
        const touch = event.touches[0];
        touchElement.style.left = touch.clientX + 'px';
        touchElement.style.top = touch.clientY + 'px';
      }
    }

    function touchEnd(event) {
      const draggedElementId = touchElement.id;
      const draggedElement = document.getElementById(draggedElementId);
      const dropTarget = document.elementFromPoint(event.changedTouches[0].clientX, event.changedTouches[0].clientY).closest('.image-container');

      if (dropTarget && dropTarget !== draggedElement) {
        const tempContainer = document.createElement('div');
        dropTarget.parentNode.insertBefore(tempContainer, dropTarget);
        draggedElement.parentNode.insertBefore(dropTarget, draggedElement);
        tempContainer.parentNode.insertBefore(draggedElement, tempContainer);
        tempContainer.remove();
      }

      touchElement.style.zIndex = '';
      touchElement = null;
    }

    document.addEventListener('dragover', function (event) {
      event.preventDefault();
    });

    document.addEventListener('drop', function (event) {
      event.preventDefault();
      const draggedElementId = event.dataTransfer.getData('text/plain');
      const draggedElement = document.getElementById(draggedElementId);
      const dropTarget = event.target.closest('.image-container');

      if (dropTarget && dropTarget !== draggedElement) {
        const tempContainer = document.createElement('div');
        dropTarget.parentNode.insertBefore(tempContainer, dropTarget);
        draggedElement.parentNode.insertBefore(dropTarget, draggedElement);
        tempContainer.parentNode.insertBefore(draggedElement, tempContainer);
        tempContainer.remove();
      }
    });

    function playVideo() {
      const videoContainer = document.getElementById('videoContainer');
      const videoElement = document.getElementById('videoElement');

      if (videoOpened) return; // –ï—Å–ª–∏ –≤–∏–¥–µ–æ —É–∂–µ –æ—Ç–∫—Ä—ã—Ç–æ, –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ–º –µ–≥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ

      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ –≤ true –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–∏–¥–µ–æ
      videoOpened = true;

      videoContainer.style.display = 'block'; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –≤–∏–¥–µ–æ

      // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è "ended", –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–∏–¥–µ–æ
      videoElement.addEventListener('ended', () => {
        Swal.fire({
          icon: 'info',
          iconHtml: 'üéû',
          title: '<b style="color:rgb(4,44,77);"> –í–∏–¥–µ–æ –æ–∫–æ–Ω—á–µ–Ω–æ </b>',
          html: '<b style="color:rgb(5,85,151);"> –•–æ—á–µ—à—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å? </b>',
          showCancelButton: true,
          allowEscapeKey: false,
          allowOutsideClick: false,
          confirmButtonText: '–î–∞',
        }).then((result) => {
          if (result.isConfirmed) {
            window.location.href = '2page.html'; // –ó–∞–º–µ–Ω–∏—Ç–µ 'URL_–¥—Ä—É–≥–æ–π_—Å—Ç—Ä–∞–Ω–∏—Ü—ã' –Ω–∞ URL —Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–π—Ç–∏
          }
        });
      });
    }

    function checkOrder() {
      const imageContainers = document.querySelectorAll('.image-container');
      const orderedImages = Array.from(imageContainers).map(container => container.querySelector('img').alt);

      const correctOrder = ['Image 7', 'Image 11', 'Image 13', 'Image 15', 'Image 16', 'Image 25', 'Image 21', 'Image 27', 'Image 19', 'Image 5', 'Image 23', 'Image 4', 'Image 22', 'Image 18', 'Image 3', 'Image 9', 'Image 12', 'Image 20', 'Image 26', 'Image 24', 'Image 17', 'Image 2', 'Image 10', 'Image 6', 'Image 1', 'Image 28', 'Image 8', 'Image 14']; // –ó–¥–µ—Å—å —É–∫–∞–∂–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

      if (JSON.stringify(orderedImages) === JSON.stringify(correctOrder)) {
        showSuccessNotification();
      } else {
        showErrorNotification();
      }
    }

    function showSuccessNotification() {
      Swal.fire({
        icon: 'warning',
        iconHtml: 'ü§ó',
        title: '<b style="color:coral"> –£–º–Ω–∏—á–∫–∞ ! ü§ó</b>',
        html: '<b style="color:firebrick;"> –í—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–º–æ—Ç—Ä–∏ –≤–∏–¥–µ–æ –¥–æ —Å–∞–º–æ–≥–æ –∫–æ–Ω—Ü–∞ !</b>',
        showCancelButton: true,
        allowEscapeKey: false,
        allowOutsideClick: false,
        confirmButtonText: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ',
        cancelButtonText: '–û—Å—Ç–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ',
      }).then((result) => {
        if (result.isConfirmed) {
          playVideo();
        }
      });
    }

    function showErrorNotification() {
      Swal.fire({
        icon: 'error',
        allowEscapeKey: false,
        allowOutsideClick: false,
        title: '<b style="color:red"> –û—à–∏–±–∫–∞!</b>',
        html: '<b style="color:rgba(107, 14, 14, 0.5);" >–†–∞—Å–ø–æ–ª–æ–∂–∏ —Ñ–æ—Ç–æ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ</b>',
      });
    }

    function showTaskExplanation() {
      Swal.fire({
        icon: 'error',
        iconHtml: 'ü•∞',
        width: 600,
        allowEscapeKey: false,
        allowOutsideClick: false,
        imageUrl: 'path/3.png',
        imageWidth: 200,
        imageHeight: 200,
        backdrop: `
    rgb(52,8,16,0.8)
    url("/images/nyan-cat.gif")
    left top
    no-repeat
  `,
        title: '<strong style="color:red;">–ö—Å—é—à–∞</strong>',
        html: '<b style="color:brown;"> –†–∞—Å–ø–æ–ª–æ–∂–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –ü–æ–ø—Ä–æ–±—É–π –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –∏—Ö –ø–æ—Ä—è–¥–æ–∫.</b>',
        onClose: () => {
          // –ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
          startGame();
        }
      });
    }

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º –∑–∞–¥–∞—á–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    showTaskExplanation();
  </script>
  <div id="videoContainer" style="display:none;">
    <video id="videoElement" controls>
      <!-- –ó–∞–º–µ–Ω–∏—Ç–µ 'path/to/your/video.mp4' –Ω–∞ URL –≤–∏–¥–µ–æ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å -->
      <source src="path/to/your/video.mp4" type="video/mp4">
      –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
    </video>
  </div>

</body>

</html>
